ARM GAS  C:\Users\ktkuru\AppData\Local\Temp\cc8AFrlW.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"usart.c"
  16              		.text
  17              		.syntax unified
  18              		.global __use_no_semihosting
  19              		
  20              		.thumb
  21              		.syntax unified
  22              		.section	.text.U2printf,"ax",%progbits
  23              		.align	1
  24              		.global	U2printf
  25              		.syntax unified
  26              		.thumb
  27              		.thumb_func
  29              	U2printf:
  30              		@ args = 4, pretend = 16, frame = 264
  31              		@ frame_needed = 0, uses_anonymous_args = 1
  32 0000 0FB4     		push	{r0, r1, r2, r3}
  33 0002 00B5     		push	{lr}
  34 0004 C3B0     		sub	sp, sp, #268
  35 0006 44AA     		add	r2, sp, #272
  36 0008 52F8041B 		ldr	r1, [r2], #4
  37 000c 0192     		str	r2, [sp, #4]
  38 000e 02A8     		add	r0, sp, #8
  39 0010 FFF7FEFF 		bl	vsprintf
  40 0014 02A9     		add	r1, sp, #8
  41 0016 0448     		ldr	r0, .L3
  42 0018 FFF7FEFF 		bl	USART_Send_String
  43 001c 43B0     		add	sp, sp, #268
  44              		@ sp needed
  45 001e 5DF804EB 		ldr	lr, [sp], #4
  46 0022 04B0     		add	sp, sp, #16
  47 0024 7047     		bx	lr
  48              	.L4:
  49 0026 00BF     		.align	2
  50              	.L3:
  51 0028 00440040 		.word	1073759232
  53              		.section	.text._write,"ax",%progbits
  54              		.align	1
  55              		.global	_write
  56              		.syntax unified
  57              		.thumb
  58              		.thumb_func
  60              	_write:
ARM GAS  C:\Users\ktkuru\AppData\Local\Temp\cc8AFrlW.s 			page 2


  61              		@ args = 0, pretend = 0, frame = 0
  62              		@ frame_needed = 0, uses_anonymous_args = 0
  63 0000 1046     		mov	r0, r2
  64 0002 4FF0000C 		mov	ip, #0
  65 0006 9445     		cmp	ip, r2
  66 0008 10DA     		bge	.L12
  67 000a 00B5     		push	{lr}
  68              	.L7:
  69 000c 084B     		ldr	r3, .L13
  70 000e 1B88     		ldrh	r3, [r3]
  71 0010 13F0400F 		tst	r3, #64
  72 0014 FAD0     		beq	.L7
  73 0016 11F80CE0 		ldrb	lr, [r1, ip]	@ zero_extendqisi2
  74 001a 054B     		ldr	r3, .L13
  75 001c A3F804E0 		strh	lr, [r3, #4]	@ movhi
  76 0020 0CF1010C 		add	ip, ip, #1
  77 0024 8445     		cmp	ip, r0
  78 0026 F1DB     		blt	.L7
  79 0028 5DF804FB 		ldr	pc, [sp], #4
  80              	.L12:
  81 002c 7047     		bx	lr
  82              	.L14:
  83 002e 00BF     		.align	2
  84              	.L13:
  85 0030 00100140 		.word	1073811456
  87              		.section	.text.usart1_init,"ax",%progbits
  88              		.align	1
  89              		.global	usart1_init
  90              		.syntax unified
  91              		.thumb
  92              		.thumb_func
  94              	usart1_init:
  95              		@ args = 0, pretend = 0, frame = 24
  96              		@ frame_needed = 0, uses_anonymous_args = 0
  97 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  98 0002 87B0     		sub	sp, sp, #28
  99 0004 0646     		mov	r6, r0
 100 0006 0121     		movs	r1, #1
 101 0008 0846     		mov	r0, r1
 102 000a FFF7FEFF 		bl	RCC_AHB1PeriphClockCmd
 103 000e 0121     		movs	r1, #1
 104 0010 1020     		movs	r0, #16
 105 0012 FFF7FEFF 		bl	RCC_APB2PeriphClockCmd
 106 0016 1E4F     		ldr	r7, .L17
 107 0018 0722     		movs	r2, #7
 108 001a 0921     		movs	r1, #9
 109 001c 3846     		mov	r0, r7
 110 001e FFF7FEFF 		bl	GPIO_PinAFConfig
 111 0022 0722     		movs	r2, #7
 112 0024 0A21     		movs	r1, #10
 113 0026 3846     		mov	r0, r7
 114 0028 FFF7FEFF 		bl	GPIO_PinAFConfig
 115 002c 4FF4C063 		mov	r3, #1536
 116 0030 0493     		str	r3, [sp, #16]
 117 0032 0223     		movs	r3, #2
 118 0034 8DF81430 		strb	r3, [sp, #20]
 119 0038 8DF81530 		strb	r3, [sp, #21]
ARM GAS  C:\Users\ktkuru\AppData\Local\Temp\cc8AFrlW.s 			page 3


 120 003c 0024     		movs	r4, #0
 121 003e 8DF81640 		strb	r4, [sp, #22]
 122 0042 0125     		movs	r5, #1
 123 0044 8DF81750 		strb	r5, [sp, #23]
 124 0048 04A9     		add	r1, sp, #16
 125 004a 3846     		mov	r0, r7
 126 004c FFF7FEFF 		bl	GPIO_Init
 127 0050 0096     		str	r6, [sp]
 128 0052 ADF80440 		strh	r4, [sp, #4]	@ movhi
 129 0056 ADF80640 		strh	r4, [sp, #6]	@ movhi
 130 005a ADF80840 		strh	r4, [sp, #8]	@ movhi
 131 005e ADF80C40 		strh	r4, [sp, #12]	@ movhi
 132 0062 0C23     		movs	r3, #12
 133 0064 ADF80A30 		strh	r3, [sp, #10]	@ movhi
 134 0068 04F18044 		add	r4, r4, #1073741824
 135 006c 04F58834 		add	r4, r4, #69632
 136 0070 6946     		mov	r1, sp
 137 0072 2046     		mov	r0, r4
 138 0074 FFF7FEFF 		bl	USART_Init
 139 0078 2946     		mov	r1, r5
 140 007a 2046     		mov	r0, r4
 141 007c FFF7FEFF 		bl	USART_Cmd
 142 0080 2A46     		mov	r2, r5
 143 0082 40F22551 		movw	r1, #1317
 144 0086 2046     		mov	r0, r4
 145 0088 FFF7FEFF 		bl	USART_ITConfig
 146 008c 07B0     		add	sp, sp, #28
 147              		@ sp needed
 148 008e F0BD     		pop	{r4, r5, r6, r7, pc}
 149              	.L18:
 150              		.align	2
 151              	.L17:
 152 0090 00000240 		.word	1073872896
 154              		.section	.text.usart2_init,"ax",%progbits
 155              		.align	1
 156              		.global	usart2_init
 157              		.syntax unified
 158              		.thumb
 159              		.thumb_func
 161              	usart2_init:
 162              		@ args = 0, pretend = 0, frame = 16
 163              		@ frame_needed = 0, uses_anonymous_args = 0
 164 0000 30B5     		push	{r4, r5, lr}
 165 0002 85B0     		sub	sp, sp, #20
 166 0004 0446     		mov	r4, r0
 167 0006 0121     		movs	r1, #1
 168 0008 0846     		mov	r0, r1
 169 000a FFF7FEFF 		bl	RCC_AHB1PeriphClockCmd
 170 000e 0121     		movs	r1, #1
 171 0010 4FF40030 		mov	r0, #131072
 172 0014 FFF7FEFF 		bl	RCC_APB1PeriphClockCmd
 173 0018 174D     		ldr	r5, .L21
 174 001a 0722     		movs	r2, #7
 175 001c 0221     		movs	r1, #2
 176 001e 2846     		mov	r0, r5
 177 0020 FFF7FEFF 		bl	GPIO_PinAFConfig
 178 0024 0722     		movs	r2, #7
ARM GAS  C:\Users\ktkuru\AppData\Local\Temp\cc8AFrlW.s 			page 4


 179 0026 0321     		movs	r1, #3
 180 0028 2846     		mov	r0, r5
 181 002a FFF7FEFF 		bl	GPIO_PinAFConfig
 182 002e 0123     		movs	r3, #1
 183 0030 0222     		movs	r2, #2
 184 0032 0C21     		movs	r1, #12
 185 0034 2846     		mov	r0, r5
 186 0036 FFF7FEFF 		bl	GPIO_Config
 187 003a 0094     		str	r4, [sp]
 188 003c 0023     		movs	r3, #0
 189 003e ADF80430 		strh	r3, [sp, #4]	@ movhi
 190 0042 ADF80630 		strh	r3, [sp, #6]	@ movhi
 191 0046 ADF80830 		strh	r3, [sp, #8]	@ movhi
 192 004a ADF80C30 		strh	r3, [sp, #12]	@ movhi
 193 004e 0C23     		movs	r3, #12
 194 0050 ADF80A30 		strh	r3, [sp, #10]	@ movhi
 195 0054 094C     		ldr	r4, .L21+4
 196 0056 6946     		mov	r1, sp
 197 0058 2046     		mov	r0, r4
 198 005a FFF7FEFF 		bl	USART_Init
 199 005e 0121     		movs	r1, #1
 200 0060 2046     		mov	r0, r4
 201 0062 FFF7FEFF 		bl	USART_Cmd
 202 0066 0122     		movs	r2, #1
 203 0068 40F22551 		movw	r1, #1317
 204 006c 2046     		mov	r0, r4
 205 006e FFF7FEFF 		bl	USART_ITConfig
 206 0072 05B0     		add	sp, sp, #20
 207              		@ sp needed
 208 0074 30BD     		pop	{r4, r5, pc}
 209              	.L22:
 210 0076 00BF     		.align	2
 211              	.L21:
 212 0078 00000240 		.word	1073872896
 213 007c 00440040 		.word	1073759232
 215              		.section	.text.USART1_IRQHandler,"ax",%progbits
 216              		.align	1
 217              		.global	USART1_IRQHandler
 218              		.syntax unified
 219              		.thumb
 220              		.thumb_func
 222              	USART1_IRQHandler:
 223              		@ args = 0, pretend = 0, frame = 0
 224              		@ frame_needed = 0, uses_anonymous_args = 0
 225 0000 08B5     		push	{r3, lr}
 226 0002 40F22551 		movw	r1, #1317
 227 0006 1A48     		ldr	r0, .L31
 228 0008 FFF7FEFF 		bl	USART_GetITStatus
 229 000c 00B9     		cbnz	r0, .L29
 230              	.L23:
 231 000e 08BD     		pop	{r3, pc}
 232              	.L29:
 233 0010 1748     		ldr	r0, .L31
 234 0012 FFF7FEFF 		bl	USART_ReceiveData
 235 0016 C0B2     		uxtb	r0, r0
 236 0018 164A     		ldr	r2, .L31+4
 237 001a 1388     		ldrh	r3, [r2]
ARM GAS  C:\Users\ktkuru\AppData\Local\Temp\cc8AFrlW.s 			page 5


 238 001c B2F90020 		ldrsh	r2, [r2]
 239 0020 002A     		cmp	r2, #0
 240 0022 F4DB     		blt	.L23
 241 0024 13F4804F 		tst	r3, #16384
 242 0028 0CD0     		beq	.L25
 243 002a 0A28     		cmp	r0, #10
 244 002c 03D0     		beq	.L26
 245 002e 114B     		ldr	r3, .L31+4
 246 0030 0022     		movs	r2, #0
 247 0032 1A80     		strh	r2, [r3]	@ movhi
 248 0034 EBE7     		b	.L23
 249              	.L26:
 250 0036 6FEA4343 		mvn	r3, r3, lsl #17
 251 003a 6FEA5343 		mvn	r3, r3, lsr #17
 252 003e 0D4A     		ldr	r2, .L31+4
 253 0040 1380     		strh	r3, [r2]	@ movhi
 254 0042 E4E7     		b	.L23
 255              	.L25:
 256 0044 0D28     		cmp	r0, #13
 257 0046 0DD0     		beq	.L30
 258 0048 C3F30D02 		ubfx	r2, r3, #0, #14
 259 004c 0A49     		ldr	r1, .L31+8
 260 004e 8854     		strb	r0, [r1, r2]
 261 0050 0133     		adds	r3, r3, #1
 262 0052 9BB2     		uxth	r3, r3
 263 0054 074A     		ldr	r2, .L31+4
 264 0056 1380     		strh	r3, [r2]	@ movhi
 265 0058 C72B     		cmp	r3, #199
 266 005a D8D9     		bls	.L23
 267 005c 1346     		mov	r3, r2
 268 005e 0022     		movs	r2, #0
 269 0060 1A80     		strh	r2, [r3]	@ movhi
 270 0062 D4E7     		b	.L23
 271              	.L30:
 272 0064 43F48043 		orr	r3, r3, #16384
 273 0068 024A     		ldr	r2, .L31+4
 274 006a 1380     		strh	r3, [r2]	@ movhi
 275 006c CFE7     		b	.L23
 276              	.L32:
 277 006e 00BF     		.align	2
 278              	.L31:
 279 0070 00100140 		.word	1073811456
 280 0074 00000000 		.word	USART_RX_STA
 281 0078 00000000 		.word	USART_RX_BUF
 283              		.global	USART_RX_STA
 284              		.section	.bss.USART_RX_STA,"aw",%nobits
 285              		.align	1
 288              	USART_RX_STA:
 289 0000 0000     		.space	2
 290              		.global	USART_RX_BUF
 291              		.section	.bss.USART_RX_BUF,"aw",%nobits
 292              		.align	2
 295              	USART_RX_BUF:
 296 0000 00000000 		.space	200
 296      00000000 
 296      00000000 
 296      00000000 
ARM GAS  C:\Users\ktkuru\AppData\Local\Temp\cc8AFrlW.s 			page 6


 296      00000000 
 297              		.global	Stop_flag
 298              		.section	.bss.Stop_flag,"aw",%nobits
 301              	Stop_flag:
 302 0000 00       		.space	1
 303              		.ident	"GCC: (Arm GNU Toolchain 13.3.Rel1 (Build arm-13.24)) 13.3.1 20240614"
ARM GAS  C:\Users\ktkuru\AppData\Local\Temp\cc8AFrlW.s 			page 7


DEFINED SYMBOLS
                            *ABS*:00000000 usart.c
C:\Users\ktkuru\AppData\Local\Temp\cc8AFrlW.s:23     .text.U2printf:00000000 $t
C:\Users\ktkuru\AppData\Local\Temp\cc8AFrlW.s:29     .text.U2printf:00000000 U2printf
C:\Users\ktkuru\AppData\Local\Temp\cc8AFrlW.s:51     .text.U2printf:00000028 $d
C:\Users\ktkuru\AppData\Local\Temp\cc8AFrlW.s:54     .text._write:00000000 $t
C:\Users\ktkuru\AppData\Local\Temp\cc8AFrlW.s:60     .text._write:00000000 _write
C:\Users\ktkuru\AppData\Local\Temp\cc8AFrlW.s:85     .text._write:00000030 $d
C:\Users\ktkuru\AppData\Local\Temp\cc8AFrlW.s:88     .text.usart1_init:00000000 $t
C:\Users\ktkuru\AppData\Local\Temp\cc8AFrlW.s:94     .text.usart1_init:00000000 usart1_init
C:\Users\ktkuru\AppData\Local\Temp\cc8AFrlW.s:152    .text.usart1_init:00000090 $d
C:\Users\ktkuru\AppData\Local\Temp\cc8AFrlW.s:155    .text.usart2_init:00000000 $t
C:\Users\ktkuru\AppData\Local\Temp\cc8AFrlW.s:161    .text.usart2_init:00000000 usart2_init
C:\Users\ktkuru\AppData\Local\Temp\cc8AFrlW.s:212    .text.usart2_init:00000078 $d
C:\Users\ktkuru\AppData\Local\Temp\cc8AFrlW.s:216    .text.USART1_IRQHandler:00000000 $t
C:\Users\ktkuru\AppData\Local\Temp\cc8AFrlW.s:222    .text.USART1_IRQHandler:00000000 USART1_IRQHandler
C:\Users\ktkuru\AppData\Local\Temp\cc8AFrlW.s:279    .text.USART1_IRQHandler:00000070 $d
C:\Users\ktkuru\AppData\Local\Temp\cc8AFrlW.s:288    .bss.USART_RX_STA:00000000 USART_RX_STA
C:\Users\ktkuru\AppData\Local\Temp\cc8AFrlW.s:295    .bss.USART_RX_BUF:00000000 USART_RX_BUF
C:\Users\ktkuru\AppData\Local\Temp\cc8AFrlW.s:285    .bss.USART_RX_STA:00000000 $d
C:\Users\ktkuru\AppData\Local\Temp\cc8AFrlW.s:292    .bss.USART_RX_BUF:00000000 $d
C:\Users\ktkuru\AppData\Local\Temp\cc8AFrlW.s:301    .bss.Stop_flag:00000000 Stop_flag
C:\Users\ktkuru\AppData\Local\Temp\cc8AFrlW.s:302    .bss.Stop_flag:00000000 $d

UNDEFINED SYMBOLS
__use_no_semihosting
vsprintf
USART_Send_String
RCC_AHB1PeriphClockCmd
RCC_APB2PeriphClockCmd
GPIO_PinAFConfig
GPIO_Init
USART_Init
USART_Cmd
USART_ITConfig
RCC_APB1PeriphClockCmd
GPIO_Config
USART_GetITStatus
USART_ReceiveData
